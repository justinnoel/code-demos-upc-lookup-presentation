---
// @ts-ignore
import { SEO } from "astro-seo";
import { ComponentChildren } from "preact";

import { getSeoProps } from "../utils.js";
import Navigation from "../components/Navigation.astro";

const url = new URL(Astro.request.url);
const seoInfo = getSeoProps(url.pathname);

export interface Props {
	children: ComponentChildren;
}
---

<html lang="en">
	<head>
		<SEO
			title={seoInfo.title}
			canonical={seoInfo.canonical}
			description={seoInfo.description}
			openGraph={seoInfo.openGraph}
			twitter={seoInfo.openGraph.twitter}
		/>
		<meta charSet="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta
			http-equiv="Content-Security-Policy"
			content="script-src 'self' https://scripts.simpleanalyticscdn.com; connect-src 'self' https://queue.simpleanalyticscdn.com; img-src 'self' https://queue.simpleanalyticscdn.com;"
		/>
		<link rel="stylesheet" href={Astro.resolve("../assets/global.css")} />

		<link
			rel="apple-touch-icon"
			sizes="57x57"
			href="assets/meta-icons/apple-icon-57x57.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="60x60"
			href="assets/meta-icons/apple-icon-60x60.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="72x72"
			href="assets/meta-icons/apple-icon-72x72.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="76x76"
			href="assets/meta-icons/apple-icon-76x76.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="114x114"
			href="assets/meta-icons/apple-icon-114x114.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="120x120"
			href="assets/meta-icons/apple-icon-120x120.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="144x144"
			href="assets/meta-icons/apple-icon-144x144.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="152x152"
			href="assets/meta-icons/apple-icon-152x152.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="assets/meta-icons/apple-icon-180x180.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="192x192"
			href="assets/meta-icons/android-icon-192x192.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="assets/meta-icons/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="96x96"
			href="assets/meta-icons/favicon-96x96.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="assets/meta-icons/favicon-16x16.png"
		/>
		<link rel="manifest" href="assets/meta-icons/manifest.json" />
		<meta name="msapplication-TileColor" content="#ffffff" />
		<meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
		<meta name="theme-color" content="#ffffff" />
	</head>

	<body class="mx-auto max-w-6xl text-gray-700 h-full pb-32 tracking-wide">
		<Navigation />
		<main class="px-8 full-minus-nav">
			<slot />
		</main>

		<!-- 100% privacy friendly analytics -->
		<script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"
		></script>
		<noscript
			><img
				src="https://queue.simpleanalyticscdn.com/noscript.gif"
				alt=""
				referrerpolicy="no-referrer-when-downgrade"
			/></noscript
		>
	</body>
</html>
